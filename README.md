# NeiroHelper

**NeiroHelper** — это Telegram-бот, c интеграцией нейросети.

## Назначение и основные возможности

- **Диалог с памятью контекста:** NeiroHelper запоминает историю переписки с каждым пользователем. Это позволяет боту учитывать предыдущие сообщения в чате для более точных и последовательных ответов. При необходимости пользователь может очистить историю командой `/clear`, чтобы начать новую беседу с чистого листа.
- **Система доступа по подписке:** Доступ к основному функционалу бота защищён системой авторизации. Новые пользователи по умолчанию имеют ограниченный доступ. Для полноценного использования возможностей NeiroHelper предусмотрена подписка. Получить её можно через команду `/pay`, выбрав требуемый срок доступа. Бот сгенерирует уникальный криптовалютный кошелёк и сумму для оплаты подписки. После внесения указанной суммы бот автоматически активирует подписку и предоставит полный доступ к своим услугам.
- **Интерактивность в Telegram:** Бот интегрирован с мессенджером Telegram, что обеспечивает удобный и привычный интерфейс взаимодействия. Команды (например, `/pay` для оплаты подписки или `/clear` для очистки истории) облегчают управление функциями прямо из чата. После активации подписки пользователь может просто отправлять сообщения боту (необязательно используя команду `/say` – достаточно обычного текста) и получать ответы от интеллектуального ассистента.

## Основные компоненты проекта

- **Интеграция с нейросетью:** Бот генерирует ответы с помощью современной модели. Специальные системные инструкции задают боту роль эксперта, чтобы ответы соответствовали нужной области знаний.
- **Интеграция с Telegram:** Отдельный модуль отвечает за подключение к Telegram Bot API. Он обрабатывает входящие сообщения и команды, отправляет ответы пользователям и управляет элементами интерфейса (например, интерактивные кнопки). Благодаря этому компоненту NeiroHelper функционирует как полноценный Telegram-бот, доступный в любом чат-приложении Telegram.
- **Хранение данных и контекста:** Внутренне бот использует базу данных и файловое хранилище для сохранения информации. История диалогов каждого пользователя сохраняется (в форматах JSONL/SQLite), чтобы ответы учитывали ранее заданные вопросы. Также хранится дополнительная информация, которую бот «выучил» через команду обучения, расширяя свою базу знаний. Такая структура данных позволяет поддерживать долгосрочный контекст общения и индивидуальные настройки для каждого пользователя.
- **Управление пользователями и доступом:** Компонент авторизации контролирует уровни доступа. Администраторы бота могут вручную добавлять или удалять пользователей из списка разрешённых командой (`/addUser` и `/delUser`), а также просматривать список подключенных пользователей (`/getUsers`). Обычным же пользователям доступ к боту выдаётся автоматизированно через оплату подписки. Разграничение ролей (например, базовый пользователь, администратор, супер-пользователь) гарантирует безопасное использование и позволяет управлять нагрузкой на сервис.
- **Платёжный модуль:** В проект встроена интеграция с блокчейном Tron для обработки криптоплатежей. При оформлении подписки бот генерирует криптовалютный кошелёк и отслеживает поступление оплаты в USDT (стейблкоин Tether в сети TRC-20). Модуль оплаты автоматически проверяет баланс и поступление требуемой суммы на сгенерированный адрес и по получении оплаты активирует пользователю доступ на оплаченный период. Использование технологии блокчейна обеспечивает прозрачность и безопасность транзакций при покупке подписки.

## Используемые технологии

- **Язык программирования:** TypeScript (в среде Node.js) — основа проекта, обеспечивающая типизацию и надёжность серверной логики бота.
- **База данных:** SQLite (через библиотеку Better-SQLite3) — для локального хранения информации: истории переписки, данных авторизации пользователей, обучающих данных и пр. Этот легковесный встроенный DBMS обеспечивает быструю работу с данными без сложной настройки.
- **Telegram Bot API:** Используется для приема и отправки сообщений. Специализированная библиотека и HTTP-запросы позволяют боту взаимодействовать с серверами Telegram, обрабатывать команды (/pay, /clear и др.) и отправлять ответы мгновенно в чат.
- **Блокчейн Tron и TronWeb:** Для реализации платежной системы бот использует TronWeb — библиотеку для работы с блокчейном Tron. Через неё NeiroHelper генерирует адреса кошельков, проверяет транзакции и баланс USDT, а также осуществляет необходимые переводы. Такой подход позволяет принимать оплату за подписку в криптовалюте, что удобно и безопасно для пользователей.
